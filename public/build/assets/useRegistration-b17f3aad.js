import{Q as u,j as c,T as r,i as l,O as v,a5 as S,a6 as $,U as _,a7 as C,a8 as b,a9 as T,aa as w,ab as B}from"./app-2aea09ac.js";import{D as I}from"./index-1c3132f8.js";import{B as P}from"./index-dddf9925.js";function x(){const f=(a,e)=>{var n;a.preventDefault(),u.openConfirmModal({title:"Hapus Pendaftaran",centered:!0,children:c(r,{size:"sm",children:["Yakin ingin menghapus pendaftaran ",l(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Hapus",cancel:"Batal"},confirmProps:{color:"red"},onConfirm:()=>{v.delete(route("registrations.destroy",{id:e.id}),{preserveScroll:!0})}})},D=(a,e)=>{var n;a.preventDefault(),u.openConfirmModal({title:"Terima pendaftaran",centered:!0,children:c(r,{size:"sm",children:["Yakin ingin ",l(r,{span:!0,weight:600,color:"green.5",children:"menerima"})," pendaftaran ",l(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Ya",cancel:"Batal"},onConfirm:()=>{v.patch(route("registrations.update.accept",{id:e.id}),{},{preserveScroll:!0})}})},R=(a,e)=>{var n;a.preventDefault(),u.openConfirmModal({title:"Tolak pendaftaran",centered:!0,children:c(r,{size:"sm",children:["Yakin ingin ",l(r,{span:!0,weight:600,color:"red.5",children:"menolak"})," pendaftaran ",l(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Ya",cancel:"Batal"},onConfirm:()=>{v.patch(route("registrations.update.reject",{id:e.id}),{},{preserveScroll:!0})}})};return{displayRegistration:a=>{var o,i,s,m,d,t,h;const e=a.users.map(p=>{var y,k;return{data:[{key:"Nama",value:p.name,link:route("participants.show",{id:p.id})},{key:"UID",value:p.uid},{key:"Sebagai",value:l(P,{variant:"filled",color:S((y=p.event_registrant)==null?void 0:y.role)||"gray",children:$((k=p.event_registrant)==null?void 0:k.role)})}]}}),n=[{key:"UID",value:a.uid},{key:"Nama event",value:(o=a.event)==null?void 0:o.name},{key:"Biaya",value:_((i=a.event)==null?void 0:i.price)}];return a.participation_method!=null&&n.push({key:"Metode partisipasi",value:C(a.participation_method)}),[{title:"Informasi Pendaftaran",data:[{key:"UID",value:a.uid},{key:"Nama event",value:(s=a.event)==null?void 0:s.name},{key:"Biaya",value:_((m=a.event)==null?void 0:m.price)}]},{title:"Informasi Pembayaran",data:[{key:"Status pembayaran",value:l(P,{variant:"filled",color:b((d=a.event_registration_payment)==null?void 0:d.status)||"gray",children:T((t=a.event_registration_payment)==null?void 0:t.status)})},{key:"Bukti pembayaran",value:(h=a.event_registration_payment)==null?void 0:h.proof,imagePreview:!0}]},{title:"Informasi Peserta",data:[{key:"Peserta",value:l(I,{data:e})}]}]},getRegistrations:a=>a.map(e=>{var o,i,s,m,d;const n=e.participation_method!=null?[{name:C(e.participation_method),color:w(e.participation_method)}]:[{name:T((o=e.event_registration_payment)==null?void 0:o.status),color:b((i=e.event_registration_payment)==null?void 0:i.status)}];return{id:e.id,title:`${e.name||e.users[0].name}@${(s=e.event)==null?void 0:s.name}`,type:(m=e.event)==null?void 0:m.eventable_type,link:route("registrations.show",{id:e.id}),information:[`#${e.uid}`,e.users_count>1?`${e.users_count} orang`:e.users[0].name],badges:n,menu:[...((d=e.event_registration_payment)==null?void 0:d.status)===B.NOT_CONFIRMED?[{label:"Terima",linkProps:{href:"",onClick:t=>D(t,e)}},{label:"Tolak",linkProps:{href:"",onClick:t=>R(t,e)}}]:[],{label:"Hapus",props:{color:"red"},linkProps:{href:"",onClick:t=>f(t,e)}}]}}),handleDelete:f}}export{x as u};
