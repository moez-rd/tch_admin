import{k as p,j as u,c as r,a as o,i as c,z as T,C as D,l as R,D as y,F as k,H as _,I as S,P as $}from"./app-769e3db3.js";import{D as w}from"./index-a4ef7a93.js";import{B as C}from"./index-df28855d.js";function Y(){const v=(a,e)=>{var n;a.preventDefault(),p.openConfirmModal({title:"Hapus Pendaftaran",centered:!0,children:u(r,{size:"sm",children:["Yakin ingin menghapus pendaftaran ",o(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Hapus",cancel:"Batal"},confirmProps:{color:"red"},onConfirm:()=>{c.delete(route("registrations.destroy",{id:e.id}),{preserveScroll:!0})}})},b=(a,e)=>{var n;a.preventDefault(),p.openConfirmModal({title:"Terima pendaftaran",centered:!0,children:u(r,{size:"sm",children:["Yakin ingin ",o(r,{span:!0,weight:600,color:"green.5",children:"menerima"})," pendaftaran ",o(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Ya",cancel:"Batal"},onConfirm:()=>{c.patch(route("registrations.update.accept",{id:e.id}),{},{preserveScroll:!0})}})},P=(a,e)=>{var n;a.preventDefault(),p.openConfirmModal({title:"Tolak pendaftaran",centered:!0,children:u(r,{size:"sm",children:["Yakin ingin ",o(r,{span:!0,weight:600,color:"red.5",children:"menolak"})," pendaftaran ",o(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Ya",cancel:"Batal"},onConfirm:()=>{c.patch(route("registrations.update.reject",{id:e.id}),{},{preserveScroll:!0})}})};return{displayRegistration:a=>{var l,i,s,d,m;const e=a.users.map(t=>{var f,h;return{data:[{key:"Nama",value:t.name,link:route("participants.show",{id:t.id})},{key:"UID",value:t.uid},{key:"Sebagai",value:o(C,{variant:"filled",color:T((f=t.event_registrant)==null?void 0:f.role)||"gray",children:D((h=t.event_registrant)==null?void 0:h.role)})}]}}),n=[{key:"UID",value:a.uid},{key:"Nama event",value:(l=a.event)==null?void 0:l.name},{key:"Biaya",value:R((i=a.event)==null?void 0:i.price)}];return a.participation_method!=null&&n.push({key:"Metode partisipasi",value:y(a.participation_method)}),[{title:"Informasi Pendaftaran",data:n},{title:"Informasi Pembayaran",data:[{key:"Status pembayaran",value:o(C,{variant:"filled",color:k((s=a.event_registration_payment)==null?void 0:s.status)||"gray",children:_((d=a.event_registration_payment)==null?void 0:d.status)})},{key:"Bukti pembayaran",value:(m=a.event_registration_payment)==null?void 0:m.proof,imagePreview:!0}]},{title:"Informasi Peserta",data:[{key:"Peserta",value:o(w,{data:e})}]}]},getRegistrations:a=>a.map(e=>{var l,i,s,d,m;const n=e.participation_method!=null?[{name:y(e.participation_method),color:S(e.participation_method)}]:[{name:_((l=e.event_registration_payment)==null?void 0:l.status),color:k((i=e.event_registration_payment)==null?void 0:i.status)}];return{id:e.id,title:`${e.name||e.users[0].name}@${(s=e.event)==null?void 0:s.name}`,type:(d=e.event)==null?void 0:d.eventable_type,link:route("registrations.show",{id:e.id}),information:[`#${e.uid}`,e.users_count>1?`${e.users_count} orang`:e.users[0].name],badges:n,menu:[...((m=e.event_registration_payment)==null?void 0:m.status)===$.NOT_CONFIRMED?[{label:"Terima",linkProps:{href:"",onClick:t=>b(t,e)}},{label:"Tolak",linkProps:{href:"",onClick:t=>P(t,e)}}]:[],{label:"Hapus",props:{color:"red"},linkProps:{href:"",onClick:t=>v(t,e)}}]}}),handleDelete:v}}export{Y as u};
