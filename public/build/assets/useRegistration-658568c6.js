import{Q as u,j as d,T as r,i as l,O as c,a5 as b,a6 as P,U as R,a7 as h,a8 as y,a9 as T}from"./app-236c6637.js";import{D as g}from"./index-0276d6e3.js";import{B as k}from"./index-ac104ed5.js";function I(){const p=(a,e)=>{var n;a.preventDefault(),u.openConfirmModal({title:"Hapus Pendaftaran",centered:!0,children:d(r,{size:"sm",children:["Yakin ingin menghapus pendaftaran ",l(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Hapus",cancel:"Batal"},confirmProps:{color:"red"},onConfirm:()=>{c.delete(route("registrations.destroy",{id:e.id}),{preserveScroll:!0})}})},_=(a,e)=>{var n;a.preventDefault(),u.openConfirmModal({title:"Terima pendaftaran",centered:!0,children:d(r,{size:"sm",children:["Yakin ingin ",l(r,{span:!0,weight:600,color:"green.5",children:"menerima"})," pendaftaran ",l(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Ya",cancel:"Batal"},onConfirm:()=>{c.patch(route("registrations.update.accept",{id:e.id}),{},{preserveScroll:!0})}})},C=(a,e)=>{var n;a.preventDefault(),u.openConfirmModal({title:"Tolak pendaftaran",centered:!0,children:d(r,{size:"sm",children:["Yakin ingin ",l(r,{span:!0,weight:600,color:"red.5",children:"menolak"})," pendaftaran ",l(r,{span:!0,weight:600,children:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`}),"?"]}),labels:{confirm:"Ya",cancel:"Batal"},onConfirm:()=>{c.patch(route("registrations.update.reject",{id:e.id}),{},{preserveScroll:!0})}})};return{displayRegistration:a=>{var n,s,o,i,m;const e=a.users.map(t=>{var f,v;return{data:[{key:"Nama",value:t.name,link:route("participants.show",{id:t.id})},{key:"UID",value:t.uid},{key:"Sebagai",value:l(k,{variant:"filled",color:b((f=t.event_registrant)==null?void 0:f.role)||"gray",children:P((v=t.event_registrant)==null?void 0:v.role)})}]}});return[{title:"Informasi Pendaftaran",data:[{key:"UID",value:a.uid},{key:"Nama event",value:(n=a.event)==null?void 0:n.name},{key:"Biaya",value:R((s=a.event)==null?void 0:s.price)}]},{title:"Informasi Pembayaran",data:[{key:"Status pembayaran",value:l(k,{variant:"filled",color:h((o=a.event_registration_payment)==null?void 0:o.status)||"gray",children:y((i=a.event_registration_payment)==null?void 0:i.status)})},{key:"Bukti pembayaran",value:(m=a.event_registration_payment)==null?void 0:m.proof,imagePreview:!0}]},{title:"Informasi Peserta",data:[{key:"Peserta",value:l(g,{data:e})}]}]},getRegistrations:a=>a.map(e=>{var n,s,o,i,m;return{id:e.id,title:`${e.name||e.users[0].name}@${(n=e.event)==null?void 0:n.name}`,type:(s=e.event)==null?void 0:s.eventable_type,link:route("registrations.show",{id:e.id}),information:[`#${e.uid}`,e.users_count>1?`${e.users_count} orang`:e.users[0].name],badges:[{name:y((o=e.event_registration_payment)==null?void 0:o.status),color:h((i=e.event_registration_payment)==null?void 0:i.status)}],menu:[...((m=e.event_registration_payment)==null?void 0:m.status)===T.NOT_CONFIRMED?[{label:"Terima",linkProps:{href:"",onClick:t=>_(t,e)}},{label:"Tolak",linkProps:{href:"",onClick:t=>C(t,e)}}]:[],{label:"Hapus",props:{color:"red"},linkProps:{href:"",onClick:t=>p(t,e)}}]}}),handleDelete:p}}export{I as u};
